<!DOCTYPE html>
<html lang="en-au">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Test the Tester</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" type="text/css">
		<link rel="stylesheet" href="Style.css" type="text/css">
		<script src="Questions.js"></script>
		<script>
			var question = 0; var mark = 0; var prevQuest = [];

			function selectQuestion()
			{
				let qid = Math.floor(Math.random() * ql.length);
				while(prevQuest.indexOf(qid)>=0)
				{
					qid = Math.floor(Math.random() * ql.length);
				}
				prevQuest.push(qid);
				question += 1;
				$("p>span").text(mark);
				$("h2>span").text(question);
				$("main>p").html(ql[qid].question.replace(/\|/g,"<br>"));
				$("main>div").empty();
				if(typeof ql[qid].correct=="number")
				{
					for (let i = 0; i < ql[qid].answers.length; i++)
					{
						$("main>div").append($("<div></div>").attr("class","radio"));
						$("main>div>div:last").append($("<input/>").attr({"type":"radio","id":"answer"+i,"name":"answers","value":i,"class":"radio"}));
						$("main>div>div:last").append($("<label></label>").attr("for","answer"+i).text(ql[qid].answers[i]));
					}
				} else {
					for (let i = 0; i < ql[qid].answers.length; i++)
					{
						$("main>div").append($("<div></div>").attr("class","form-check"));
						$("main>div>div:last").append($("<input/>").attr({"type":"checkbox","id":"answer"+i,"name":"answers","value":i,"class":"form-check-input"}));
						$("main>div>div:last").append($("<label></label>").attr({"for":"answer"+i,"class":"form-check-label"}).text(ql[qid].answers[i]));
					}
				}
			}
		</script>
	</head>

	<body onload="selectQuestion()">
		<div class="container">
			<header>
				<h1>Test the Tester</h1>
				<p>Current Mark: <span>0</span>%</p>
			</header>

			<main>
				<h2>Question <span>1</span> of 20</h2>
				<p></p><!-- Displays the question text -->
				<div></div><!-- Displays the choices and feedback when the response is submitted -->
				<button class="btn btn-primary btn-block">Submit Answer</button>
			</main>

			<footer>&copy; Stephen Hayes.</footer>
		</div>
	</body>
</html>